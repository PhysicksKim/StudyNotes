# 페이징 이란
한 화면에서 보여주는 데이터의 범위를 결정하는 일련의 방법을 말한다  
웹 게시판에서 한 페이지에 글 20개만 보여주는 것 등을 생각하면 된다.  
  
# 페이징 처리에 대해 공부해야 하는 이유
단순히 화면이 작아서 10만건의 데이터를 못보여주니 그냥 20개만 보여주겠거니 정도로 생각할 수 있지만  
사실 페이징 처리의 큰 이점은 DB 부하를 줄이는데에 있다  
  
좀 더 구체적으로 "왜?" 에 대해서 설명해보면.    
"그냥 이렇게 만들면 되는 거 아니야?" 라는 식으로 페이징을 구현하다보면  
차후에 몇 가지 문제들이 발생하기 시작한다    
  
따라서 페이징은 잠재적인 문제가 차후에 빈번히 발생할 수 있는 부분이기 때문에    
미리 페이징 처리에 대해 확실히 짚고 공부한뒤에 구현하는게 좋다    
  
그러면 왜 페이징 처리가 중요한지 알아보자  
  
### 속도는 빠르게 부하는 적게
사실 그렇게 어려운 이야기는 아니다  
게시판으로 치자면  
그냥 DB에서 10만건 다 꺼내서 웹에 띄울수도 없으니   
당연히 게시판에 페이지가 있는 것이 당연하다  
또 당연히 10건씩만 보여주니까 DB부하는 적고 속도는 빠를것이다.  
  
# 하지만 페이징 처리에서 고려할 부분이 많다  
아주 간단하게 목록에서 게시글 10개씩 보여주는건 어렵지 않다
```SQL
Select * From board LIMIT 10 OFFSET 0;
Select * From board LIMIT 10 OFFSET 10;
```
그냥 OFFSET 값을 늘려가면서 띄워주기만 하면 되기 때문이다  
(물론 이외에도 인덱스를 사용하는 방법등이 있다)  
  
진짜 문제는 여러 시나리오들에 접목시킬때 나온다  
  
# 예1) 글 보던중 목록으로 이동  
예를 들어 3페이지에 있던 게시글을 보던 중에 '목록' 버튼을 누르면  
다시 3페이지로 이동하도록 해야한다  
  
# 예2) 무한스크롤 방식에서 페이징 문제
예를 들어 **3번째 페이지** 글이 아래와 같다고 해보자
  
31. 김치찌개 만들기
32. 된장찌개 만들기
33. 맥주 맛있게 보관하기 
34. 카레 만들기
...
39. 오믈렛 만들기
40. 볶음밥 만들기
  
그리고 **사용자는 34번째 글을 보고 있었다**고 해보자  
  
  
그런데 사용자가 3페이지를 보던중 **33. 맥주 맛있게 보관하기** 글이 삭제했다고 해보자
  
그러면 3페이지 구성은 아래와 같이 바뀔 것이다    
31. 김치찌개 만들기
32. 된장찌개 만들기
33. 카레 만들기
...  
38. 오믈렛 만들기
39. 볶음밥 만들기
40. 소세지야채볶음 만들기  
  
근데 무한 스크롤 방식은 그냥  
41~50번 데이터를 다음번에 받아오게 될테니  
이렇게되면 40번 소세지야채볶음 만들기는 누락되는 문제가 발생한다  
  
# 예3) 게시글이 많아지면 오프셋 방식은 느리다  
먼저 SQL에서 OFFSET이 동작하는 방식에 대해서 알아야 한다  
그냥 막연히 효율적으로 동작하겠지라는 기대를 품고  
OFFSET은 마치 인덱스로 바로 찾아가는 것 처럼 동작할거야 라고 생각할 수 있다  

### 하지만 실제 OFFSET의 동작은 모두 조회하고 단순히 건너뛰는 식이다  
마치 LinkedList 처럼 동작한다  
100,001번 부터 100,010번 글을 조회하는데  
1번부터 100,010번까지 다 조회하고  
단순히 앞에 100,000개를 짤라내는 식인거다.  
  
그래서 게시판의 글이 많아지고, 뒤에 페이지를 확인하게 될 수록  
오프셋 방식 페이징 처리는 현저히 속도가 느려지게 된다  
  
  
# 따라서 페이징 처리도 단순한 문제가 아니다  
앞서 제시해둔 오프셋 방식의 페이징 처리는 문제가 있어 보인다  
그래서 나온게 커서 방식이다.  
커서방식에 대한 자세한 설명은 차치하고,   
중요한건 이와 같은 이유 때문에 페이징 처리가 필요하다는 것이다  
