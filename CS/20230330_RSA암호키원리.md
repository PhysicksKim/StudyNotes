# 복잡한 수식 없이 RSA 이해  

RSA 암호화에 대한 설명을 보면  
mod 연산, 오일러 정리, 소수 이야기가 등장한다.  
  
근데 개발자가 정수론까지 배워가면서 RSA 암호화를 이해해야 할까?  
하는 의문이 있다.  
  
그래서  
수학적으로 깊은 내용까지 들어가지 않고  
간단히 RSA가 어떻게 동작하는지만 이해하는데 좋은,  
개발자에게 딱 이정도만 이해하면 되겠다 싶은 정도로 RSA를 정리했다  
  
<br><br>

---

<br><br>  

# 1. 공개키? 개인키?       
   
먼저, 공개키와 개인키로 암호화 및 복호화(해독) 하는 방법에 대해 보자.    

- 공개키 암호화 / 개인키 복호화
![image](https://user-images.githubusercontent.com/101965836/228826304-67499459-90ea-44be-aac2-8e7b889168c0.png)

- 개인키 암호화 / 공개키 복호화
![image](https://user-images.githubusercontent.com/101965836/228826360-8821b17a-7c58-4302-844a-585d5289ead6.png)
  
잘 못 그린 게 아니다.  
  
공개키로 암호화 하면, 개인키로만 복호화 가능하고   
개인키로 암호화 하면, 공개키로만 복호화 가능하다   
   
<br><br>  
  
---  
  
<br><br>    
  
# 2. 공개키는 Open, 개인키는 비밀  
  
![image](https://user-images.githubusercontent.com/101965836/228827149-07bd8658-5c5f-477c-a89e-60344ed4fffa.png)    
  
A의 공개키는 말 그대로 공개해두고  
비밀키는 나만 알도록 한다.  
  
<br><br>  
  
---  
  
<br><br> 

# 3. 암호화 vs 전자 서명  
   
앞서 본 공개키와 비밀키를 활용해서   
암호화와 전자서명 2가지가 가능하다  
  
암호화 : 메세지를 숨김. 누가 보냈는지는 모름.    
전자서명 : 누가 보냈는지 알 수 있음. 메세지는 오픈됨.  
  
왜 그런지 알아보자  
  
<br><br>  

## 3.1 암호화 
  
![image](https://user-images.githubusercontent.com/101965836/228831002-863f2c2f-2894-4817-ab4c-d00a40fd20cc.png)  
  
**공개키로 암호화 하면, 개인키를 가진 사람만 복호화가 가능**하다  
    
![image](https://user-images.githubusercontent.com/101965836/228834547-8671a9f5-e531-4482-8c8a-5ec5cdcb4c9b.png)  
  
이렇게 메세지를 A_공개키 로 암호화 했기에  
A_비밀키 를 가진 A 만 복호화가 가능하다.  
따라서 A만 메세지를 볼 수 있다.  
  
### 공개키로 암호화 하면, 개인키를 가진 사람만 메세지를 볼 수 있다  
  
<br><br>  
  
## 3.2 전자 서명  
  
전자 서명 개념은 낯설거다.  
전자 서명은 "이거 A가 보낸 게 맞아?" 라는 걸 보증하기 위해서 필요하다  
  
### A. 전자 서명이 없을 때 문제  
  
![image](https://user-images.githubusercontent.com/101965836/228837944-9d34f241-4f4f-4a97-a970-43a3e26edfb9.png)   

위 그림처럼    
"이 문서는 A가 보낸 문서입니다" 라고 인증하고 싶다고 해보자.  
  
예를 들어,   
윈도우 업데이트 파일이 진짜 마이크로소프트에서 보낸 업데이트 파일인지   
아니면 해커가 위조한 파일인지 구분해야 하기 때문에  
누가 보낸 데이터인지 보증하는 것은 중요한 일이다.  
    
<br>  
   
![image](https://user-images.githubusercontent.com/101965836/228840008-f16b8b8b-4dab-4341-b323-7d8b97123405.png)  
  
하지만 누가 보냈는지 구분 할 장치가 없다면    
그냥 위와 같이 B가 A인척 해버릴 수 있다.    
  
<br><br>  

### B. 전자 서명 원리  
![image](https://user-images.githubusercontent.com/101965836/228844245-c7be4e87-f629-427b-9c54-ba1bb2f53a80.png)  
  
이번에는 이렇게 개인키로 암호화 했다.  
  
- 개인키 암호화 / 공개키 복호화  
![image](https://user-images.githubusercontent.com/101965836/228826360-8821b17a-7c58-4302-844a-585d5289ead6.png)  
  
앞서 본 위 그림을 다시 보자  
개인키로 암호화했기 때문에  
공개키로 누구나 복호화 할 수 있다  
  
"누구나 복호화 할 수 있으면 무슨 의미임?"  
바로, 누가 암호화 했는지 알 수 있다는 점이다.  
  
![image](https://user-images.githubusercontent.com/101965836/228847028-1b3d801a-df71-4855-bd1f-d67665461d3a.png)   
  
예를 들어 위 그림처럼  
B가 A의 공개키를 가져와서 복호화 해봤는데 제대로 복호화가 되면    
해당 메세지가 A가 개인키로 암호화 했음을 알 수 있다.  
  
<br><br>  

### 정리  
- 전자 서명 필요성 
누가 이 메세지를 보냈는 지 알아야함. 
ex. 윈도우 업데이트 파일 이거 진짜 MS에서 보낸 파일 맞나?   
   
<br> 
   
- 전자 서명 원리  
개인키 암호화 / 공개키 복호화  
ex. MS 공개키로 복호화 했더니 풀리더라. MS에서 보낸 파일 맞네   
  
