# 해시  
  
주민번호는 유일하다.  
  
그러면  
**유일한 값 -> 인덱스**    
로 바로 연결시킬수만 있다면 어떨까?  
   
이게 가능하다면   
값 추가, 삭제, 조회 모두 O(1)에 이뤄질 수 있다  
  
hash 를 사용한다면 이게 가능해진다  
  
<br>  
  
### 예시  
  
990101-1234567 라는 주민번호를 갖는 사람이 있고,   
사람에 대한 정보를 주민번호와 같은 인덱스에다가 저장한다고 해보자  
그러면  
```java
Person personArray = ... ;
  
personArray\[9901011234567\];  
```
주민번호만 알면 O(1)로 바로 그 사람을 조회할 수 있다  
  
삭제도 그냥 인덱스 안에다가 null이나 NoPerson 객체를 넣는 식으로  
O(1)만에 할 수 있다  

<br>  

## 문제점  
1. 주민번호를 그대로 인덱스에 쓰기에는 무리가 있다  
  
식별해서 개인마다 다른 값을 주는건 좋은데  
저렇게 큰 배열을 만드는건 현실적으로 무리가 된다.  
  
<br>  
  
2. 연산으로 값을 작게 줄여서 쓰면 유일하지 않을 수 있다  
  
예를들어 앞자리와 뒷자리를 더한다고 하면  
990101 + 1234567 = 2224668   
이렇게 2224668라는 값을 인덱스로 써서  
앞선 배열보다 더 작은 배열로 해결할 수 있겠지만  
앞자리와 뒷자리를 더해버리면   
같은 해시 값을 갖는 사람이 있을 수 있다  
  
예를들어  
990102-1234566   
라는 주민번호를 갖는 사람이 있다면  
마찬가지로 앞자리 + 뒷자리 = 2224668이 되어서  
**해시 충돌** 문제가 발생한다  
  
<br>

# 해시 충돌 방지  

## 1. 해시 크기 최적화  
% 연산을 통해 나머지로 해시값을 구한다고 하자  
이때 크기 최적화 방안은 아래와 같다  
  
### 1) size를 홀수로 정한다  
### 2) 사이즈를 소수로 정한다  
  
둘 다  
%로 나머지를 통해 해시코드를 구할 때  
좀 더 불규칙적으로 다양한 해시를 얻고자 하는 전략이다  
  

### 음수(-)에 % 연산을 하면 음수(-)가 나올 수 있음  
언어에 따라 다르지만  
자바의 경우  
-10 % 3 = -1 이 된다.  
  
근데 해시코드 결과가 인덱스로 연결되어야 하므로  
음수가 아니라 양수 값이 필요하다   
따라서 음수(-)가 들어오면  
양수(+)로 변환해주는게 좋다  
  

