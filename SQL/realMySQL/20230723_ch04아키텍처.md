# CH4 아키텍처  

<br><br>

# 4.1 MySQL 엔진 아키텍처

![image](https://github.com/PhysicksKim/TIL/assets/101965836/b793546a-5e34-4af6-b79b-c62c5325f420)  
  
MySQL은 전체 구조를 간략하게 설명하면 위와 같다  
  
여기서 핵심은 엔진이 크게 2단계로 나뉘어 있다는 점이다.    
  
- MySQL 엔진 : 프로그래밍 API 와 밀접하게 연관된 동작을 수행    
- 스토리지 엔진 : 데이터 저장소와 밀접하게 연관된 동작을 수행  

## 4.1.2 MySQL 스레딩 구조  
포그라운드 스레드 + 백그라운드 스레드  

### 포그라운드 스레드  
MySQL 서버에 접속된 클라이언트 사용자 요청 쿼리를 처리한다  
커넥션이 종료되면 해당 스레드는 스레드 캐시(Thread Cache)로 되돌아간다.  
스레드 캐시에는 일정 개수 이상의 스레드가 대기중에 있다.  
  
### 백그라운드 스레드   
InnoDB 에서는 여러 작업이 백그라운드로 처리된다.    
로그를 기록, 버퍼 사용해서 데이터를 디스크에 쓰는 작업, 데드락 모니터링 등을 백그라운드로 처리한다.   
  
쓰기 작업은 버퍼를 사용하고 백그라운드 스레드에서 일어난다.  
반대로 읽기 작업은 백그라운드로 넘기지 않고 포그라운드 스레드가 곧바로 처리한다  

## 4.1.3 메모리 할당 및 사용 구조

## 4.1.4 플러그인 스토리지 엔진 모델  

## 4.1.5 컴포넌트  

## 4.1.6 쿼리 실행 구조

## 4.1.7 복제

## 4.1.8 쿼리 캐시  

## 4.1.9 스레드 풀  

## 4.1.10 트랜잭션 지원 메타데이터  

<br><br>  
  
# 4.2 스토리지 엔진 아키텍처  


  

